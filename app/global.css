@import "tailwindcss";

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@theme {
  /* https://tailwindcss.com/docs/theme */
  /* --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; */

  --text-xs: 1.2rem;
  --text-sm: 1.4rem;
  --text-base: 1.6rem;
  --text-lg: 1.8rem;
  --text-xl: 2.0rem;

  --color-bg: #eee;
  --color-fg: #111;
  --color-shadow: rgba(0, 0, 0, 0.4);
  --color-primary: #4593ef;
  --color-primary-fg: #f4f4f4;
  --color-secondary: #30a950;
  --color-secondary-fg: #f4f4f4;
  --color-sub: #aab;
  --color-sub-fg: #f4f4f4;
  --color-danger: #f05454;
  --color-danger-fg: #f4f4f4;
  --color-header-bg: #e0e0e4;
  --color-header-fg: #111;
  --color-footer-bg: #e0e0e4;
  --color-footer-fg: #111;
  --color-nav-bg: #e0e0e4;
  --color-nav-fg: #111;
  --color-mask: rgba(0, 0, 0, 0.2);
  --color-link: #0000EE;
  --color-link-visited: #551A8B;

  /* loadingbar */
  --spacing-loadingbar1: 25%;
  --spacing-loadingbar2: 15%;

  /* button */
  --spacing-button: 3.2rem;

  /* input */
  --color-input: #111;
  --color-input-bg: #f9f9f9;
  --color-input-bd: #555;
  --color-input-err: #111;
  --color-input-err-bg: #fdd;
  --color-input-err-bd: #f00;
  --color-placeholder: #888;
  --color-error: #f00;
  --color-hover: #b8e6fe;
  --color-active: #b8e6fe;
  --spacing-input: 3.2rem;
  --spacing-input-pad-x: calc(var(--spacing-input) / 4);
  --spacing-input-pad-y: calc(var(--spacing-input) / 12);
  --spacing-input-pad-btn: calc(var(--spacing-input) * 0.85);
  --spacing-input-btn: calc(var(--spacing-input) * 0.75);
  --radius-input: 2px;
  --opacity-disabled: 0.5;
  --image-check: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M20 50 L40 70 L80 30" stroke="currentColor" stroke-width="0.75rem" fill="none" stroke-linecap="round" /></svg>');
  --image-down: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M10,32.5l40,40 40,-40" stroke="currentColor" stroke-width="0.75rem" fill="none" stroke-linecap="round" /></svg>');
  --image-up: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><path d='M10,67.5l40,-40 40,40' stroke='currentColor' stroke-width='0.75rem' fill='none' stroke-linecap='round'/></svg>");
}

@utility dark-theme-vars {
  color-scheme: dark;
  --color-bg: #2c2c2c;
  --color-fg: #ddd;
  --color-shadow: rgba(255, 255, 255, 0.4);
  --color-primary: #4085ca;
  --color-primary-fg: #ddd;
  --color-secondary: #14a389;
  --color-secondary-fg: #ddd;
  --color-sub: #778;
  --color-sub-fg: #ddd;
  --color-danger: #e85151;
  --color-danger-fg: #ddd;
  --color-header-bg: #1c1c1f;
  --color-header-fg: #ddd;
  --color-footer-bg: #1c1c1f;
  --color-footer-fg: #ddd;
  --color-nav-bg: #1c1c1f;
  --color-nav-fg: #ddd;
  --color-mask: rgba(192, 192, 192, 0.2);
  --color-link: #8ab4f8;
  --color-link-visited: #c58af9;
  --color-input: #ddd;
  --color-input-bg: #222;
  --color-input-bd: #bbb;
  --color-input-err: #ddd;
  --color-input-err-bg: #322;
  --color-input-err-bd: #f57;
  --color-error: #f57;
  --color-hover: #024a70;
  --color-active: #024a70;
}

@layer base {

  html {
    background-color: var(--color-bg);
    color: var(--color-fg);
    font-size: 62.5%;

    &[data-theme="dark"] {
      @apply dark-theme-vars;
    }

    &[data-theme="auto"] {
      @media (prefers-color-scheme: dark) {
        @apply dark-theme-vars;
      }
    }
  }

  body {
    font-size: 1.6rem;
  }

  .link {
    text-decoration: underline;
    color: var(--color-link);

    &:is(:visited, [data-visited="true"]) {
      color: var(--color-link-visited);
    }
  }

  .details {
    &::details-content {
      display: grid;
      grid-template-rows: 0fr;
      overflow: hidden;
      transition: grid-template-rows .2s, content-visibility .2s allow-discrete, overlay .2s allow-discrete;
    }

    &[open] {
      &::details-content {
        grid-template-rows: 1fr;
      }
    }
  }

  summary {
    cursor: pointer;
    user-select: none;
    touch-action: none;
  }

  ::placeholder {
    color: var(--color-placeholder);
  }

}

@layer components {
  .icon {
    width: 1.6rem;
    fill: currentColor;
    stroke: currentColor;
    stroke-width: 0;
    stroke-linecap: round;
  }

  .loading-bar {
    @apply fixed top-0 left-0 w-full h-1 z-[9999] overflow-hidden bg-transparent;

    &::before,
    &::after {
      @apply absolute content-[""] h-full top-0;
      @apply bg-blue-500;

      animation-timing-function: ease-in-out;
      animation-duration: 3s;
      animation-iteration-count: infinite;
      animation-direction: normal;
    }

    &::before {
      @apply w-loadingbar1 -left-loadingbar1;
      animation-name: loadingBar1;
    }

    &::after {
      @apply w-loadingbar2 -left-loadingbar2;
      animation-name: loadingBar2;
      animation-delay: 1.2s;
    }
  }

}

@keyframes loadingBar1 {
  0% {
    left: calc(var(--spacing-loadingbar1) * -1);
  }

  70% {
    left: calc(var(--spacing-loadingbar1) + 100%);
  }

  100% {
    left: calc(var(--spacing-loadingbar1) + 100%);
  }
}

@keyframes loadingBar2 {
  0% {
    left: calc(var(--spacing-loadingbar2) * -1);
  }

  70% {
    left: calc(var(--spacing-loadingbar2) + 100%);
  }

  100% {
    left: calc(var(--spacing-loadingbar2) + 100%);
  }
}

@import "./components/elements/button.css";
@import "./components/elements/nav-layout.css";
@import "./components/elements/dialog.css";
@import "./components/elements/message-box.css";
@import "./components/elements/form/style.css";