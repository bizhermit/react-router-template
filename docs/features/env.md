# 環境変数

## 本番コンテナ用

`./.container/.env.example`を参考に、`./.container/.env`を作成してください。  

| キー | 説明         |
| ---- | ------------ |
| TZ   | タイムゾーン |
<!-- TODO -->

## 開発コンテナ用

`./.devcontainer/.env.example`を参考に、`./.devcontainer/.env`を作成してください。  

### 設定値

| キー | 説明         |
| ---- | ------------ |
| TZ   | タイムゾーン |
<!-- TODO -->

## アプリケーション用

### 優先順位

| 優先度 | ファイル名              | 説明                               |
| :----: | ----------------------- | ---------------------------------- |
|   1    | .env.[`NODE_ENV`].local | `NODE_ENV`に依存するローカル値     |
|   2    | .env.local              | `NODE_NEV`に依存しないローカル値   |
|   3    | .env.[`NODE_ENV`]       | `NODE_ENV`に依存するデフォルト値   |
|   4    | .env                    | `NODE_ENV`に依存しないデフォルト値 |

※ `NODE_ENV`は開発モードでは`development`、製品モード（ビルド含む）では`production`が設定されます。  

ファイル名に`.local`が付いていないファイルがgit管理対象となります。  
各環境で値を変更する場合は、`.env*.local`を作成してください。  

### 設定値

※ ビルド時に静的展開（クライアントサイドで直接参照）する場合は、キーにプレフィックス（`VITE_`）を付ける。 

| キー     | 説明                                                    |
| -------- | ------------------------------------------------------- |
| DEV_PORT | Webアプリケーションサーバー開発モードでの起動ポート番号 |
<!-- TODO -->


## 使い方

### サーバーサイド（ランタイム参照）

```ts
const timezone = process.env.TZ;
```

### クライアントサイドおよびサーバーサイド（ビルド時固定）

```ts
const apiUrl = import.meta.env.VITE_API_URL;
```
